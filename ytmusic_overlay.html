<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YT MUSIC PREMIUM - Atmosphere V3.4 | Seller Edition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root { --primary: #facc15; --bg-dark: #050505; --card-bg: #0d0d0d; --border-color: rgba(255, 255, 255, 0.05); }
        body { font-family: 'Plus Jakarta Sans', sans-serif; background: var(--bg-dark); color: white; min-height: 100vh; overflow: hidden; margin: 0; }
        .glow-bg { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: radial-gradient(circle at 50% -20%, rgba(250, 204, 21, 0.05) 0%, transparent 50%); pointer-events: none; z-index: -1; }
        .container-wide { width: 95%; max-width: 1400px; margin: 0 auto; padding: 40px 0; }
        .main-card { background: var(--card-bg); border: 1px solid var(--border-color); border-radius: 24px; display: grid; grid-template-columns: 380px 1fr; gap: 0; box-shadow: 0 40px 100px rgba(0,0,0,0.5); height: 780px; position: relative; z-index: 1; }
        .side-panel { padding: 40px; border-right: 1px solid var(--border-color); background: rgba(255, 255, 255, 0.01); display: flex; flex-direction: column; }
        .preview-panel { padding: 40px; background: #000; display: flex; flex-direction: column; position: relative; border-radius: 0 24px 24px 0; overflow: hidden; }
        .section-box { background: rgba(255, 255, 255, 0.03); border: 1px solid var(--border-color); border-radius: 16px; padding: 24px; margin-bottom: 24px; }
        .label-premium { font-size: 11px; font-weight: 800; color: var(--primary); text-transform: uppercase; letter-spacing: 2px; margin-bottom: 12px; display: block; }
        
        select { 
            width: 100%; background: #111 !important; border: 1px solid rgba(255,255,255,0.1) !important; 
            color: #fff !important; padding: 14px 18px; border-radius: 12px; font-size: 13px; outline: none; cursor: pointer; 
        }

        .btn-generate { 
            background: var(--primary); color: black; font-weight: 800; width: 100%; padding: 16px; 
            border-radius: 12px; font-size: 12px; text-transform: uppercase; letter-spacing: 1px; transition: 0.3s; cursor: pointer; border: none; 
        }
        .btn-generate:hover { transform: translateY(-3px); box-shadow: 0 10px 20px rgba(250, 204, 21, 0.2); }

        .viewport-preview { 
            flex-grow: 1; background: #050505; border: 1px solid rgba(255,255,255,0.05); 
            border-radius: 20px; position: relative; overflow: hidden; display: flex; align-items: center; justify-content: center; 
        }

        iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; display: none; pointer-events: none; }
        
        /* Mencegah seleksi teks yang bikin spasi mati */
        * { user-select: none; -webkit-user-drag: none; }
    </style>
</head>
<body onclick="window.focus()">

    <div class="glow-bg"></div>

    <div class="container-wide">
        <div class="flex justify-between items-center mb-10">
            <div class="flex items-center gap-3">
                <div class="w-8 h-8 bg-yellow-400 rounded-lg flex items-center justify-center">
                    <span class="text-black font-black text-xl">Y</span>
                </div>
                <h1 class="text-3xl font-black tracking-tighter uppercase italic">YT Music <span class="text-yellow-400">Premium</span></h1>
            </div>
            <button onclick="location.href='selection.html'" class="bg-white/5 border border-white/10 px-6 py-3 rounded-xl text-[10px] font-black uppercase tracking-widest hover:bg-white hover:text-black transition-all">Kembali ke Menu</button>
        </div>

        <div class="main-card">
            <div class="side-panel">
                <div class="section-box">
                    <span class="label-premium">01. Konfigurasi Tema</span>
                    <select id="theme-select" class="font-bold" onchange="window.focus()">
                        <option value="" selected disabled>-- PILIH TEMA --</option>
                        <option value="Themes1">AKATSUKI ITACHI (PREMIUM)</option>
                        <option value="Themes2">CLEAN CAPSULE (MINIMAL)</option>
                        <option value="Themes3">VINTAGE STYLE (RETRO)</option>
                        <option value="Themes4">NEON CYBER (FUTURISTIC)</option>
                        <option value="Themes5">GLOSSY GLASS (MODERN)</option>
                    </select>
                </div>

                <div class="section-box">
                    <span class="label-premium">02. Finalisasi Link</span>
                    <button onclick="generateOBS()" class="btn-generate">Generate Link Overlay</button>
                    <div id="result-box" class="hidden mt-6 p-4 bg-yellow-400/5 border border-yellow-400/20 rounded-xl">
                        <input id="final-link" readonly type="text" class="text-[10px] font-mono bg-transparent border-none outline-none w-full text-yellow-400 mb-2">
                        <button onclick="copyNow()" class="w-full bg-yellow-400 text-black py-2 rounded-lg text-[9px] font-black">COPY LINK</button>
                    </div>
                </div>

                <div class="mt-auto p-4 bg-white/5 rounded-xl border border-white/10">
                    <p class="text-[10px] text-yellow-400 font-bold mb-1">PRO TIPS:</p>
                    <p class="text-[9px] opacity-60">Jika SPASI tidak merespon, klik di mana saja pada layar ini lalu tekan SPASI kembali.</p>
                </div>
            </div>

            <div class="preview-panel">
                <div class="viewport-preview">
                    <div id="placeholder-ui" class="text-center">
                        <h2 class="text-sm font-black uppercase tracking-[0.5em] text-white/40">Engine Atmosphere Active</h2>
                        <p class="text-[10px] font-bold text-yellow-400 mt-3 uppercase animate-pulse">Pilih Tema & Tap SPASI untuk Preview</p>
                    </div>
                    <iframe id="main-preview" src=""></iframe>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Fokus otomatis ke window agar spasi langsung jalan
        window.focus();

        function generateOBS() {
            const theme = document.getElementById('theme-select').value;
            if(!theme) { alert("Pilih tema dulu!"); return; }
            const link = document.getElementById('final-link');
            link.value = `https://antoyusri021-debug.github.io/Overlay-Webdev/TemaYT/${theme}.html`;
            document.getElementById('result-box').classList.remove('hidden');
            window.focus(); // Balikin fokus setelah klik
        }

        function copyNow() {
            const input = document.getElementById('final-link');
            input.select();
            document.execCommand('copy');
            alert("Link Berhasil Disalin!");
            window.focus();
        }

        // PERBAIKAN LOGIKA SPASI
        window.addEventListener('keydown', function(e) {
            if (e.code === "Space") {
                // Mencegah scroll page saat tekan spasi
                e.preventDefault();
                
                const theme = document.getElementById('theme-select').value;
                if(!theme) return;

                const iframe = document.getElementById('main-preview');
                const placeholder = document.getElementById('placeholder-ui');
                
                placeholder.style.display = 'none';
                iframe.style.display = 'block';
                
                // Gunakan timestamp agar preview selalu fresh
                const timestamp = new Date().getTime();
                iframe.src = `https://antoyusri021-debug.github.io/Overlay-Webdev/TemaYT/${theme}.html?t=${timestamp}`;
                
                console.log("Previewing: " + theme);
            }
        });
    </script>
</body>
</html>
