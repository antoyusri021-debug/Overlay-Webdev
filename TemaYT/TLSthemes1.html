<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Outfit:wght@400;700;900&display=swap');
        
        body { 
            margin: 0; padding: 20px; 
            background: transparent !important; 
            font-family: 'Outfit', sans-serif; 
            overflow: hidden; 
        }

        /* NEON GLASS CONTAINER */
        #main-container {
            display: flex;
            align-items: center;
            background: rgba(10, 10, 10, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 100px; /* Model Pill */
            padding: 10px 25px;
            color: white;
            border: 2px solid rgba(0, 255, 127, 0.3);
            width: fit-content;
            min-width: 300px;
            max-width: 450px;
            box-shadow: 0 0 20px rgba(0, 255, 127, 0.2);
            
            /* Paksa Muncul agar tidak Blank di TLS */
            opacity: 1 !important;
            visibility: visible !important;
            transition: all 0.5s ease;
        }

        .icon-box {
            width: 35px; height: 35px;
            background: #00ff7f;
            border-radius: 50%;
            margin-right: 15px;
            display: flex; align-items: center; justify-content: center;
            flex-shrink: 0;
            box-shadow: 0 0 15px #00ff7f;
        }

        .music-icon { fill: #000; width: 20px; height: 20px; }

        .content { overflow: hidden; white-space: nowrap; }

        .title { 
            font-size: 15px; font-weight: 900; color: #fff; 
            margin: 0; padding: 0;
            overflow: hidden; text-overflow: ellipsis;
        }

        .artist { 
            font-size: 11px; font-weight: 400; color: #00ff7f; 
            margin: 0; padding: 0; opacity: 0.8;
            text-transform: uppercase; letter-spacing: 1px;
        }

        /* Animasi cakram berputar pelan */
        .rotating { animation: spin 4s linear infinite; }
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }
    </style>
</head>
<body>

<div id="main-container">
    <div class="icon-box rotating">
        <svg class="music-icon" viewBox="0 0 24 24">
            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 14.5c-2.49 0-4.5-2.01-4.5-4.5S9.51 7.5 12 7.5s4.5 2.01 4.5 4.5-2.01 4.5-4.5 4.5z"/>
        </svg>
    </div>
    <div class="content">
        <div id="title-text" class="title">Menunggu Musik...</div>
        <div id="artist-text" class="artist">YT Music Premium</div>
    </div>
</div>

<script>
    const titleLabel = document.getElementById('title-text');
    const artistLabel = document.getElementById('artist-text');

    async function updateMusic() {
        // Path sejajar karena file ada di APPSWEB
        // Jika ditaruh di temaYT, ganti jadi '../judul_lagu.txt'
        const paths = ['../judul_lagu.txt', 'judul_lagu.txt'];
        
        for (let p of paths) {
            try {
                const response = await fetch(p + '?cache=' + Date.now());
                if (response.ok) {
                    const text = await response.text();
                    if (text.trim() && !text.includes('<!DOCTYPE')) {
                        let parts = text.split(' - ');
                        titleLabel.innerText = parts[0].trim();
                        artistLabel.innerText = parts.length > 1 ? parts[1].trim() : "YouTube Music";
                        return; // Berhenti jika sudah ketemu
                    }
                }
            } catch (e) {}
        }
    }

    setInterval(updateMusic, 2000);
    updateMusic();
</script>
</body>
</html>
