<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WEBDEV - Atmosphere V3.3.4 (Ultimate Sync)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;700;800&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <style>
        ::-webkit-scrollbar { display: none; }
        * { -ms-overflow-style: none; scrollbar-width: none; box-sizing: border-box; }
        body { 
            font-family: 'Plus Jakarta Sans', sans-serif;
            min-height: 100vh; display: flex; align-items: center; justify-content: center;
            overflow: hidden; margin: 0; background: #0a0a0a;
            background-image: url('indexbg.jpg'); background-size: cover; position: relative;
        }
        body::after { content: ""; position: absolute; inset: 0; background: radial-gradient(circle at center, rgba(0,0,0,0.3), rgba(0,0,0,0.8)); z-index: 1; }
        .main-wrapper { position: relative; z-index: 10; display: flex; gap: 15px; width: 98%; height: 94vh; }
        .sidebar { width: 500px; flex-shrink: 0; display: flex; flex-direction: column; gap: 10px; overflow-y: auto; padding-right: 5px; }
        .preview-area { flex-grow: 1; display: flex; flex-direction: column; gap: 10px; height: 100%; }
        
        .elite-card { background: rgba(255, 255, 255, 0.03); backdrop-filter: blur(30px); border: 1px solid rgba(255, 255, 255, 0.1); border-radius: 1.5rem; }
        .input-elite { background: rgba(0, 0, 0, 0.5); border: 1px solid rgba(255, 255, 255, 0.15); color: #ffffff; }
        
        .control-group { background: rgba(0,0,0,0.4); padding: 12px; border-radius: 1rem; border: 1px solid rgba(255,255,255,0.05); }
        .btn-grid { display: flex; gap: 6px; width: 100%; }
        
        .shape-btn, .layout-btn { 
            flex: 1; padding: 8px 4px; text-align: center; font-size: 9px; 
            font-weight: 800; text-transform: uppercase; border-radius: 8px;
            border: 1px solid rgba(255,255,255,0.1); transition: all 0.2s;
            background: rgba(255,255,255,0.05); color: rgba(255,255,255,0.4);
            cursor: pointer; letter-spacing: 0.05em;
        }
        .shape-btn.active, .layout-btn.active { 
            background: white; color: black; border-color: white; 
            box-shadow: 0 4px 15px rgba(255,255,255,0.2);
        }

        .premium-link-card {
            background: linear-gradient(90deg, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0.1) 100%);
            border: 1px solid rgba(255,255,255,0.1);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative; overflow: hidden;
            text-decoration: none;
        }
        .premium-link-card:hover {
            background: rgba(255,255,255,0.15);
            transform: translateY(-2px);
            border-color: rgba(255,255,255,0.4);
            box-shadow: 0 10px 30px -10px rgba(255,255,255,0.2);
        }

        iframe { width: 100%; height: 100%; border: none; background: transparent; border-radius: 1rem; }
        input[type="color"] { -webkit-appearance: none; border: none; width: 32px; height: 32px; cursor: pointer; background: none; }
        input[type="color"]::-webkit-color-swatch { border-radius: 6px; border: 1px solid rgba(255,255,255,0.4); }

        .sidebar { 
            width: 450px; 
            flex-shrink: 0; 
            display: flex; 
            flex-direction: column; 
            gap: 10px; 
            overflow-y: auto; 
            /* Tambahkan padding top agar hover tidak terpotong ke atas */
            padding: 10px 10px 0 5px; 
        }

        /* Update pada bagian ini saja */
        .btn-home {
            width: 45px; 
            height: 45px; 
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1); 
            border-radius: 12px;
            display: flex; 
            align-items: center; 
            justify-content: center;
            cursor: pointer; 
            transition: all 0.3s; 
            backdrop-filter: blur(10px);
            color: rgba(255,255,255,0.5);
            /* Tambahkan ini agar tidak mepet ke atas saat normal */
            margin-top: 5px; 
        }

        .btn-home:hover {
            background: white; 
            color: black; 
            /* Kurangi sedikit lompatannya jika masih terasa terpotong */
            transform: translateY(-2px); 
            box-shadow: 0 10px 20px rgba(0,0,0,0.5);
        }
    </style>
</head>
<body>

    <div class="main-wrapper">
        <div class="sidebar">
            <div class="pl-2 mb-2 flex justify-between items-center">
                <div class="flex items-center gap-4">
                    <div onclick="location.href='selection.html'" class="btn-home" title="Kembali ke Menu Utama">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
                    </div>
                    <div>
                        <h1 class="text-2xl font-black italic text-white tracking-tighter leading-none">COSTUM<span class="opacity-50 font-light">CHAT</span></h1>
                        <p class="text-[7px] text-white/40 tracking-[0.4em] uppercase font-bold mt-1">Custom Chat Engine â€¢ v3.3.4</p>
                    </div>
                </div>
            </div>

            <div class="elite-card p-5 space-y-4 flex-grow overflow-y-auto">
                <div class="grid grid-cols-2 gap-3">
                    <div>
                        <label class="text-[10px] font-extrabold uppercase text-white/60 mb-2 block">Overlay Template</label>
                        <select id="themeSelect" onchange="updatePreview()" class="w-full input-elite rounded-xl px-3 py-2 text-xs font-bold appearance-none cursor-pointer">
                            <option value="" disabled selected>CHOOSE_THEME</option>
                        </select>
                    </div>
                    <div>
                        <label class="text-[10px] font-extrabold uppercase text-white/60 mb-2 block">Entrance Anim</label>
                        <select id="animSelect" onchange="forcePushStyle()" class="w-full input-elite rounded-xl px-3 py-2 text-xs font-bold">
                            <option value="fade-in">Fade In</option>
                            <option value="slide-left">Slide Left</option>
                            <option value="slide-up">Slide Up</option>
                            <option value="bounce">Bounce Pop</option>
                        </select>
                    </div>
                </div>

                <div class="grid grid-cols-2 gap-3">
                    <div class="control-group">
                        <label class="text-[10px] font-black uppercase text-white/50 block tracking-widest mb-2">Layout</label>
                        <div class="btn-grid">
                            <button onclick="setLayout('vertical')" id="lay-vertical" class="layout-btn active">Vertical</button>
                            <button onclick="setLayout('horizontal')" id="lay-horizontal" class="layout-btn">Horizontal</button>
                        </div>
                    </div>
                    <div class="control-group">
                        <div class="flex justify-between mb-2">
                            <label class="text-[10px] font-black uppercase text-white/50 tracking-widest">Limit</label>
                            <span id="vLimit" class="text-[10px] text-white font-mono">10</span>
                        </div>
                        <input type="range" id="limitInput" min="1" max="50" value="10" oninput="vLimit.innerText=this.value; updatePreview()" class="w-full accent-white h-1.5">
                    </div>
                </div>

                <div class="control-group">
                    <label class="text-[10px] font-black uppercase text-white/50 block tracking-widest mb-2">Avatar Geometry</label>
                    <div class="btn-grid">
                        <button onclick="setShape('circle')" id="sh-circle" class="shape-btn active">Circle</button>
                        <button onclick="setShape('squircle')" id="sh-squircle" class="shape-btn">Squircle</button>
                        <button onclick="setShape('square')" id="sh-square" class="shape-btn">Square</button>
                    </div>
                </div>

                <div class="grid grid-cols-2 gap-3">
                    <div>
                        <label class="text-[10px] font-extrabold uppercase text-white/60 mb-2 block">Session ID</label>
                        <input type="text" id="sessionId" oninput="updatePreview()" placeholder="Enter ID..." class="w-full input-elite rounded-xl px-3 py-2 text-xs font-mono">
                    </div>
                    <div>
                        <div class="flex justify-between mb-2 text-[10px] font-extrabold uppercase text-white/60">
                            <label>Hide Timer</label>
                            <span id="vTimer" class="text-white">0s</span>
                        </div>
                        <input type="range" id="timerInput" min="0" max="60" value="0" oninput="vTimer.innerText=this.value+'s'; updatePreview()" class="w-full accent-white h-1.5">
                    </div>
                </div>

                <div class="grid grid-cols-2 gap-3">
                    <div class="bg-white/5 p-2 px-3 rounded-xl border border-white/10 flex justify-between items-center">
                        <span class="text-[9px] font-bold uppercase text-white/40">User</span>
                        <input type="color" id="userColor" value="#ffffff" oninput="forcePushStyle()">
                    </div>
                    <div class="bg-white/5 p-2 px-3 rounded-xl border border-white/10 flex justify-between items-center">
                        <span class="text-[9px] font-bold uppercase text-white/40">Chat</span>
                        <input type="color" id="chatColor" value="#ffffff" oninput="forcePushStyle()">
                    </div>
                </div>

                <div class="grid grid-cols-2 gap-3">
                    <div class="bg-white/5 p-2 px-3 rounded-xl border border-white/10 flex justify-between items-center">
                        <span class="text-[9px] font-bold uppercase text-white/40">Border</span>
                        <input type="color" id="borderColor" value="#ffffff" oninput="forcePushStyle()">
                    </div>
                    <div class="bg-white/5 p-2 px-3 rounded-xl border border-white/10">
                        <div class="flex justify-between mb-1">
                            <span class="text-[9px] font-bold uppercase text-white/40">B-Opac</span>
                            <span id="vBOpac" class="text-[9px] text-white">1.0</span>
                        </div>
                        <input type="range" id="borderOpacity" min="0" max="1" step="0.1" value="1" oninput="vBOpac.innerText=this.value; forcePushStyle()" class="w-full accent-white h-1">
                    </div>
                </div>

                <div class="control-group">
                    <div class="flex justify-between items-center mb-3">
                        <span class="text-[10px] font-black uppercase text-white/50 tracking-widest">Atmosphere</span>
                        <div class="flex bg-black/60 p-1 rounded-lg border border-white/10">
                            <button id="btnSolid" onclick="setMode('solid')" class="atm-btn active text-[8px] px-4 py-1.5 rounded-md uppercase">Solid</button>
                            <button id="btnGrad" onclick="setMode('gradient')" class="atm-btn text-[8px] px-4 py-1.5 rounded-md uppercase">Grad</button>
                        </div>
                    </div>
                    
                    <div class="flex items-center gap-4">
                        <div id="solidGroup" class="flex items-center gap-2">
                            <span class="text-[9px] font-bold uppercase text-white/40">Color</span>
                            <input type="color" id="bgColor" value="#000000" oninput="forcePushStyle()">
                        </div>

                        <div id="gradGroup" class="hidden flex gap-4 items-center">
                            <div class="flex items-center gap-2">
                                <span class="text-[9px] font-bold uppercase text-white/40">Grad 1</span>
                                <input type="color" id="grad1" value="#ff0050" oninput="forcePushStyle()">
                            </div>
                            <div class="flex items-center gap-2">
                                <span class="text-[9px] font-bold uppercase text-white/40">Grad 2</span>
                                <input type="color" id="grad2" value="#00f2ea" oninput="forcePushStyle()">
                            </div>
                        </div>

                        <div class="flex-grow flex items-center gap-2 ml-2">
                            <input type="range" id="bgOpacity" min="0" max="1" step="0.1" value="0.9" oninput="vOpac.innerText=this.value; forcePushStyle()" class="w-full accent-white h-1.5">
                            <span id="vOpac" class="text-[10px] text-white font-mono w-6 text-right">0.9</span>
                        </div>
                    </div>
                </div>

                <div class="grid grid-cols-2 gap-3">
                    <div class="bg-white/5 p-2 px-3 rounded-xl border border-white/10">
                        <div class="flex justify-between mb-1 text-[9px] uppercase font-bold text-white/40">
                            <label>Radius</label><span id="vRad" class="text-white">22px</span>
                        </div>
                        <input type="range" id="radiusInput" min="0" max="100" value="22" oninput="vRad.innerText=this.value+'px'; forcePushStyle()" class="w-full accent-white h-1">
                    </div>
                    <div class="bg-white/5 p-2 px-3 rounded-xl border border-white/10">
                        <div class="flex justify-between mb-1 text-[9px] uppercase font-bold text-white/40">
                            <label>Font</label><span id="vFont" class="text-white">24px</span>
                        </div>
                        <input type="range" id="fontInput" min="10" max="50" value="24" oninput="vFont.innerText=this.value+'px'; forcePushStyle()" class="w-full accent-white h-1">
                    </div>
                </div>

                <div class="pt-2 space-y-2">
                    <button onclick="generate()" class="w-full bg-white text-black font-black py-3 rounded-xl text-[10px] uppercase tracking-[0.2em] hover:bg-white/90 active:scale-95 transition-all">Execute Script</button>
                    <div id="resWrap" class="hidden p-3 bg-black/80 rounded-xl border border-white/10">
                        <p id="resLink" class="text-[9px] font-mono text-white/40 mb-2 italic"></p>
                        <button onclick="copy()" class="w-full py-1.5 bg-white/10 text-[9px] font-black text-white/80 uppercase rounded-lg border border-white/5">Copy Link</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="preview-area">
            <div class="elite-card h-[60px] flex items-center px-6 justify-between">
                <div class="flex items-center gap-3">
                    <div id="statusDot" class="w-2.5 h-2.5 rounded-full bg-yellow-500 animate-pulse"></div>
                    <span id="statusText" class="text-[10px] text-white/40 font-mono font-bold uppercase tracking-[0.3em]">Standby...</span>
                </div>
            </div>
            <div class="elite-card flex-grow p-4 bg-black/20 relative overflow-hidden">
                <iframe id="previewIframe" src="about:blank"></iframe>

                <div class="absolute bottom-8 right-10 pointer-events-none select-none text-right z-50">
                    <h1 class="text-[15px] tracking-[0.4em] text-white font-black italic mb-0.5">
                        WEBDEV
                    </h1>
                    
                    <h2 class="text-[11px] tracking-[0.2em] text-white/70 font-bold uppercase mb-3">
                        YUSRIANTO <span class="opacity-40 font-light">LANA</span>
                    </h2>

                    <div class="max-w-[280px] ml-auto border-t border-white/10 pt-4">
                        <p class="text-[9px] leading-tight tracking-wider text-red-500 font-black uppercase mb-1.5">
                            PERINGATAN KERAS: HAK CIPTA MUTLAK DEVELOPER.
                        </p>
                        <p class="text-[8.5px] leading-relaxed tracking-wider text-white/80 font-bold uppercase mb-4">
                            DILARANG KERAS MEMPERJUALBELIKAN ATAU MENDISTRIBUSIKAN ULANG APLIKASI INI DALAM BENTUK APAPUN! SIAPAPUN YANG TERBUKTI MENJUAL KEMBALI TANPA IZIN RESMI, MAKA AKSES AKAN DIMATIKAN TOTAL SAAT ITU JUGA. HARGAI KARYA DEVELOPER ATAU KEHILANGAN AKSES SELAMANYA. TIDAK ADA KOMPROMI.
                        </p>
                        
                        <div class="flex flex-col items-end gap-3 mt-2">
                            <a href="https://wa.me/6281343901082" target="_blank" class="pointer-events-auto inline-flex items-center gap-2 text-[10px] font-black text-cyan-400 hover:text-cyan-300 transition-all tracking-widest uppercase">
                                Hubungi Developer
                                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"><path d="m22 2-7 20-4-9-9-4Z"/><path d="M22 2 11 13"/></svg>
                            </a>

                            <a href="https://www.tiktok.com/@webdev_ysi" target="_blank" class="pointer-events-auto inline-flex items-center gap-2 text-[10px] font-black text-white hover:text-red-400 transition-all tracking-widest uppercase">
                                Follow TikTok
                                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M9 12a4 4 0 1 0 4 4V4a5 5 0 0 0 5 5"/></svg>
                            </a>

                            <a href="https://www.instagram.com/setuphomeit" target="_blank" class="pointer-events-auto inline-flex items-center gap-2 text-[10px] font-black text-white hover:text-pink-400 transition-all tracking-widest uppercase">
                                Follow Instagram
                                <svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><rect width="20" height="20" x="2" y="2" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/><line x1="17.5" x2="17.51" y1="6.5" y2="6.5"/></svg>
                            </a>
                        </div>
                    </div>
                </div>
                
            </div>
        </div>
    </div>

<script>
    const list = {
        "Akatsuki Itachi": "https://antoyusri021-debug.github.io/Overlay-Webdev/Featured-Message-Itachi-Edition/Itachi-Edition.html",
        "Neo Box 1": "https://antoyusri021-debug.github.io/Overlay-Webdev/Neo-box-1/chatcomic.html",
        "Malika Tiktok Dark": "https://antoyusri021-debug.github.io/Overlay-Webdev/Malika-TikTok-Edition-black/Malika-TikTok-Edition.html",
        "Clean Capsule Black": "https://antoyusri021-debug.github.io/Overlay-Webdev/Clean-capsule-hitam/Clean-capsule.html",
        "Barista Custom": "https://antoyusri021-debug.github.io/Overlay-Webdev/Barista-Overlay-Custom-Bean/Barista-Overlay-Custom-Bean.html",
        "Clean Capsule BG Black": "https://antoyusri021-debug.github.io/Overlay-Webdev/Clean-capsule-bg-hitam/Border-radius.html",
        "TheNinjaBone": "https://antoyusri021-debug.github.io/Overlay-Webdev/TheNinjaBone/Border-radius.html",
        "Golden Capsul Potret": "https://antoyusri021-debug.github.io/Overlay-Webdev/goldencapsulpotret/goldencapsulpotret.html",
        "iOS Chat Overlay (Full Mod)": "https://antoyusri021-debug.github.io/Overlay-Webdev/Dynamic%20iOS%20Chat%20Overlay/Clean-capsule.html",
        "iOS Style Dark (Full Mod)": "https://antoyusri021-debug.github.io/Overlay-Webdev/iOS%20Style%20Chat%20-%20Dark%20Mode%20Theme/Clean-capsule.html"
    };

    let currentMode = 'solid';
    let currentShape = 'circle';
    let currentLayout = 'vertical';
    const iframe = document.getElementById('previewIframe');

    function initThemes() {
        const sel = document.getElementById('themeSelect');
        sel.innerHTML = '<option value="" disabled selected>CHOOSE_THEME</option>';
        for (let name in list) {
            let o = document.createElement('option');
            o.value = list[name]; o.innerText = name;
            sel.appendChild(o);
        }
    }

    function setMode(m) {
        currentMode = m;
        // Toggle Visibility Group
        document.getElementById('gradGroup').classList.toggle('hidden', m !== 'gradient');
        document.getElementById('solidGroup').classList.toggle('hidden', m === 'gradient');
        
        // Toggle Button Class
        document.getElementById('btnSolid').classList.toggle('active', m === 'solid');
        document.getElementById('btnGrad').classList.toggle('active', m === 'gradient');
        
        forcePushStyle();
    }

    function setShape(s) {
        currentShape = s;
        ['circle', 'squircle', 'square'].forEach(sh => {
            document.getElementById(`sh-${sh}`).classList.toggle('active', sh === s);
        });
        forcePushStyle();
    }

    function setLayout(l) {
        currentLayout = l;
        ['vertical', 'horizontal'].forEach(lay => {
            document.getElementById(`lay-${lay}`).classList.toggle('active', lay === l);
        });
        updatePreview();
    }

    function buildFinalUrl(isClean = false) {
        const themeUrl = document.getElementById('themeSelect').value;
        if(!themeUrl) return "";
        const params = new URLSearchParams();
        
        const sid = document.getElementById('sessionId').value.trim();
        if(sid) params.set('session', sid);

        // Timer tetap wajib (showtime=0 default)
        const tm = parseInt(document.getElementById('timerInput').value);
        params.set('showtime', tm * 1000);

        if(document.getElementById('animSelect').value !== 'fade-in') params.set('anim', document.getElementById('animSelect').value);
        if(document.getElementById('radiusInput').value != 22) params.set('radius', document.getElementById('radiusInput').value);
        if(document.getElementById('fontInput').value != 24) params.set('font', document.getElementById('fontInput').value);
        if(document.getElementById('bgOpacity').value != 0.9) params.set('opac', document.getElementById('bgOpacity').value);

        if (currentMode === 'solid') {
            const bg = document.getElementById('bgColor').value.replace('#','');
            if(bg !== '000000' || isClean) params.set('bg', bg);
        } else {
            const g1 = document.getElementById('grad1').value.replace('#','');
            const g2 = document.getElementById('grad2').value.replace('#','');
            params.set('grad', `${g1},${g2}`);
        }

        const u = document.getElementById('userColor').value.replace('#','');
        if(u !== 'ffffff') params.set('ucolor', u);
        const t = document.getElementById('chatColor').value.replace('#','');
        if(t !== 'ffffff') params.set('tcolor', t);

        const bo = document.getElementById('borderOpacity').value;
        if(bo > 0) {
            params.set('bcolor', document.getElementById('borderColor').value.replace('#',''));
            params.set('bopac', bo);
        }

        if(currentShape !== 'circle') params.set('avt', currentShape);
        if(document.getElementById('limitInput').value != 10) params.set('limit', document.getElementById('limitInput').value);
        if(currentLayout !== 'vertical') params.set('layout', currentLayout);

        return `${themeUrl}?${params.toString()}`;
    }

    function updatePreview() {
        const finalUrl = buildFinalUrl();
        if(!finalUrl) return;
        iframe.src = finalUrl;
        document.getElementById('statusText').innerText = "SYNCING...";
        iframe.onload = () => {
            document.getElementById('statusDot').className = "w-2.5 h-2.5 rounded-full bg-green-500 shadow-[0_0_10px_rgba(34,197,94,0.5)]";
            document.getElementById('statusText').innerText = "SYSTEM_SYNC_ACTIVE";
            forcePushStyle();
        };
    }

    function forcePushStyle() {
        if(!iframe.contentWindow || !document.getElementById('themeSelect').value) return;
        iframe.contentWindow.postMessage({
            type: 'UPDATE_STYLE',
            radius: document.getElementById('radiusInput').value,
            font: document.getElementById('fontInput').value,
            bg: document.getElementById('bgColor').value,
            opac: document.getElementById('bgOpacity').value,
            g1: document.getElementById('grad1').value,
            g2: document.getElementById('grad2').value,
            mode: currentMode,
            uColor: document.getElementById('userColor').value,
            tColor: document.getElementById('chatColor').value,
            bColor: document.getElementById('borderColor').value,
            bOpac: document.getElementById('borderOpacity').value,
            anim: document.getElementById('animSelect').value,
            avtShape: currentShape,
            limit: document.getElementById('limitInput').value,
            layout: currentLayout
        }, '*');
    }

    function generate() {
        if(!document.getElementById('themeSelect').value) return;
        const finalUrl = buildFinalUrl(true);
        document.getElementById('resLink').innerText = finalUrl;
        document.getElementById('resWrap').classList.remove('hidden');
    }

    function copy() {
        const link = document.getElementById('resLink').innerText;
        navigator.clipboard.writeText(link).then(() => { alert("LINK COPIED!"); });
    }

    initThemes();
</script>
</body>
</html>
